#ifndef __JHASHTABLE_H__
#define __JHASHTABLE_H__

///////////////////////////////////////////////////////////////////////////////
/// Enums
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
/// Macros
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
/// Definition
///////////////////////////////////////////////////////////////////////////////

typedef int (*_jhashInt_f)(int key);
typedef char (*_jhashChar_f)(int key);
typedef char* (*_jhashString_f)(char* key);

// Linked List 에서 data 를 관리하기 위한 노드 구조체
typedef struct _jnode_t {
	struct _jnode_t *prev;
	struct _jnode_t *next;
	void *data;
} JNode, *JNodePtr, **JNodePtrContainer;

// Hash Table value 를 관리하는 이중 연결 리스트 구조체
typedef struct _jlinkedlist_t {
	int index;
	int size;
	JNodePtr head;
	JNodePtr tail;
	void *data;
} JLinkedList, *JLinkedListPtr, **JLinkedListPtrContainer;

// Hash Table 관리 구조체
// Chaining 방식
typedef struct _jhashtable_t {
	int size;
	JLinkedListPtrContainer listContainer;
	_jhashInt_f intFunc; 
	_jhashChar_f charFunc;
	_jhashString_f stringFunc;
} JHashTable, *JHashTablePtr, **JHashTablePtrContainer;

///////////////////////////////////////////////////////////////////////////////
// Functions for JNode
///////////////////////////////////////////////////////////////////////////////

JNodePtr NewJNode();
void DeleteJNode(JNodePtrContainer container);
int JNodeGetSize(const JNodePtr node);
void* JNodeGetData(const JNodePtr node);

///////////////////////////////////////////////////////////////////////////////
// Functions for JLinkedList
///////////////////////////////////////////////////////////////////////////////

JLinkedListPtr NewJLinkedList();
void DeleteJLinkedList(JLinkedListPtrContainer container);
int JLinkedListGetSize(const JLinkedListPtr node);
void* JLinekdListGetData(const JLinkedListPtr node);

///////////////////////////////////////////////////////////////////////////////
// Functions for JHashTable
///////////////////////////////////////////////////////////////////////////////

JHashTablePtr NewJHashTable();
void DeleteJHashTable(JHashTablePtrContainer container);

int JHashTableGetSize(const JHashTablePtr node);
void* JHashTableGetData(const JHashTablePtr node);

///////////////////////////////////////////////////////////////////////////////
// Util Functions
///////////////////////////////////////////////////////////////////////////////

#endif

